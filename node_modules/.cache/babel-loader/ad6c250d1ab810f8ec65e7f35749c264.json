{"ast":null,"code":"var _jsxFileName = \"D:\\\\practice\\\\project4\\\\src\\\\components\\\\Main\\\\Content.js\";\nimport './Content.css';\nimport { PostItem } from \"./components/PostItem\";\nimport { Component } from \"react\";\nimport { AddPostForm } from \"./components/AddPostForm\";\nimport { EditPostForm } from \"./components/EditPostForm\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Content extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      showAddForm: false,\n      showEditForm: false,\n      //blogArr: JSON.parse(localStorage.getItem('blogPosts')) || posts\n      blogArr: [],\n      selectedPost: {}\n    };\n\n    this.likePost = blogPost => {\n      const temp = { ...blogPost\n      };\n      temp.liked = !temp.liked;\n      axios.put(`https://62c570e8a361f7251284731c.mockapi.io/posts/${blogPost.id}`, temp).then(response => {\n        this.getPosts();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.getPosts = () => {\n      axios.get('https://62c570e8a361f7251284731c.mockapi.io/posts').then(response => {\n        this.setState({\n          blogArr: response.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePost = blogPost => {\n      if (window.confirm(`Удалить пост \"${blogPost.title}\" ?`)) {\n        axios.delete(`https://62c570e8a361f7251284731c.mockapi.io/posts/${blogPost.id}`).then(response => {\n          this.getPosts();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n\n    this.handleShowAddForm = () => {\n      this.setState({\n        showAddForm: true\n      }); //console.log(this.state.showAddForm)\n    };\n\n    this.handleHideAddForm = () => {\n      this.setState({\n        showAddForm: false\n      }); //console.log(this.state.showAddForm)\n    };\n\n    this.handleShowEditForm = () => {\n      this.setState({\n        showEditForm: true\n      }); //console.log(this.state.showAddForm)\n    };\n\n    this.handleHideEditForm = () => {\n      this.setState({\n        showEditForm: false\n      }); //console.log(this.state.showAddForm)\n    };\n\n    this.handleEscape = e => {\n      if (e.key === 'Escape' && this.state.showAddForm) {\n        this.handleHideAddForm();\n      }\n\n      if (e.key === 'Escape' && this.state.showEditForm) {\n        this.handleHideEditForm();\n      }\n    };\n\n    this.addNewPost = blogPost => {\n      axios.post('https://62c570e8a361f7251284731c.mockapi.io/posts', blogPost).then(response => {\n        this.getPosts();\n      }).catch(err => {\n        console.log(err);\n      });\n      const temp = [...this.state.blogArr];\n      temp.push(blogPost);\n      this.setState({\n        blogArr: temp\n      });\n      localStorage.setItem(\"blogPosts\", JSON.stringify(temp));\n    };\n\n    this.editBlogPost = updatedBlogPost => {\n      axios.put(`https://62c570e8a361f7251284731c.mockapi.io/posts/${updatedBlogPost.id}`, updatedBlogPost).then(response => {\n        this.getPosts();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleSelectPost = blogPost => {\n      this.setState({\n        selectedPost: blogPost\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getPosts();\n    window.addEventListener('keyup', this.handleEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleEscape);\n  }\n\n  render() {\n    const blogPosts = this.state.blogArr.map((item, position) => {\n      return /*#__PURE__*/_jsxDEV(PostItem, {\n        title: item.title,\n        tag: item.tag,\n        body: item.body,\n        liked: item.liked,\n        likePost: () => this.likePost(item),\n        deletePost: () => this.deletePost(item),\n        handleShowEditForm: this.handleShowEditForm,\n        handleSelect: () => this.handleSelectPost(item)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blogPage\",\n      children: [this.state.showAddForm ? /*#__PURE__*/_jsxDEV(AddPostForm, {\n        blogArr: this.state.blogArr,\n        handleHideAddForm: this.handleHideAddForm,\n        addNewPost: this.addNewPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }, this) : null, this.state.showEditForm ? /*#__PURE__*/_jsxDEV(EditPostForm, {\n        handleHideEditForm: this.handleHideEditForm,\n        selectedPost: this.state.selectedPost,\n        editBlogPost: this.editBlogPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addNewPost\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"blackBtn\",\n            children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"blackBtn\",\n            onClick: this.handleShowAddForm,\n            children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u043E\\u0441\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"posts\",\n        children: blogPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["PostItem","Component","AddPostForm","EditPostForm","axios","Content","state","showAddForm","showEditForm","blogArr","selectedPost","likePost","blogPost","temp","liked","put","id","then","response","getPosts","catch","err","console","log","get","setState","data","deletePost","window","confirm","title","delete","error","handleShowAddForm","handleHideAddForm","handleShowEditForm","handleHideEditForm","handleEscape","e","key","addNewPost","post","push","localStorage","setItem","JSON","stringify","editBlogPost","updatedBlogPost","handleSelectPost","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","blogPosts","map","item","position","tag","body"],"sources":["D:/practice/project4/src/components/Main/Content.js"],"sourcesContent":["import './Content.css';\r\nimport {PostItem} from \"./components/PostItem\";\r\nimport {Component} from \"react\";\r\nimport {AddPostForm} from \"./components/AddPostForm\";\r\nimport {EditPostForm} from \"./components/EditPostForm\";\r\nimport axios from \"axios\";\r\n\r\nexport class Content extends Component {\r\n\r\n    state = {\r\n        showAddForm: false,\r\n        showEditForm: false,\r\n        //blogArr: JSON.parse(localStorage.getItem('blogPosts')) || posts\r\n        blogArr: [],\r\n        selectedPost: {}\r\n    }\r\n\r\n    likePost = (blogPost) => {\r\n\r\n        const temp = {...blogPost};\r\n        temp.liked = !temp.liked\r\n\r\n        axios.put(`https://62c570e8a361f7251284731c.mockapi.io/posts/${blogPost.id}`, temp)\r\n            .then((response) => {\r\n                this.getPosts()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    getPosts = () => {\r\n        axios.get('https://62c570e8a361f7251284731c.mockapi.io/posts')\r\n            .then((response) => {\r\n                this.setState({\r\n                    blogArr: response.data\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    deletePost = (blogPost) => {\r\n        if (window.confirm(`Удалить пост \"${blogPost.title}\" ?`)) {\r\n\r\n            axios.delete(`https://62c570e8a361f7251284731c.mockapi.io/posts/${blogPost.id}`)\r\n                .then((response) => {\r\n                    this.getPosts()\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error)\r\n                })\r\n\r\n\r\n        }\r\n    }\r\n\r\n    handleShowAddForm = () => {\r\n\r\n        this.setState({\r\n            showAddForm: true\r\n        })\r\n        //console.log(this.state.showAddForm)\r\n    }\r\n\r\n    handleHideAddForm = () => {\r\n\r\n        this.setState({\r\n            showAddForm: false\r\n        })\r\n        //console.log(this.state.showAddForm)\r\n    }\r\n\r\n    handleShowEditForm = () => {\r\n\r\n        this.setState({\r\n            showEditForm: true\r\n        })\r\n        //console.log(this.state.showAddForm)\r\n    }\r\n\r\n    handleHideEditForm = () => {\r\n\r\n        this.setState({\r\n            showEditForm: false\r\n        })\r\n        //console.log(this.state.showAddForm)\r\n    }\r\n\r\n\r\n    handleEscape = (e) => {\r\n        if (e.key === 'Escape' && this.state.showAddForm) {\r\n            this.handleHideAddForm()\r\n        }\r\n        if (e.key === 'Escape' && this.state.showEditForm) {\r\n            this.handleHideEditForm()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPosts()\r\n        window.addEventListener('keyup', this.handleEscape)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keyup', this.handleEscape)\r\n    }\r\n\r\n    addNewPost = (blogPost) => {\r\n\r\n        axios.post('https://62c570e8a361f7251284731c.mockapi.io/posts', blogPost)\r\n            .then((response) => {\r\n                this.getPosts()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n\r\n        const temp = [...this.state.blogArr];\r\n        temp.push(blogPost);\r\n        this.setState({\r\n            blogArr: temp\r\n        })\r\n        localStorage.setItem(\"blogPosts\", JSON.stringify(temp))\r\n    }\r\n\r\n    editBlogPost = (updatedBlogPost) => {\r\n        axios.put(`https://62c570e8a361f7251284731c.mockapi.io/posts/${updatedBlogPost.id}`, updatedBlogPost)\r\n            .then((response) => {\r\n                this.getPosts()\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    handleSelectPost = (blogPost) => {\r\n        this.setState({\r\n            selectedPost: blogPost\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const blogPosts = this.state.blogArr.map((item, position) => {\r\n            return (\r\n                <PostItem\r\n                    key={item.id}\r\n                    title={item.title}\r\n                    tag={item.tag}\r\n                    body={item.body}\r\n                    liked={item.liked}\r\n                    likePost={() => this.likePost(item)}\r\n                    deletePost={() => this.deletePost(item)}\r\n                    handleShowEditForm={this.handleShowEditForm}\r\n                    handleSelect={() => this.handleSelectPost(item)}\r\n                />\r\n            )\r\n        })\r\n\r\n        return (\r\n\r\n            <div className=\"blogPage\">\r\n                {\r\n                    this.state.showAddForm ?\r\n                        <AddPostForm blogArr={this.state.blogArr}\r\n                                     handleHideAddForm={this.handleHideAddForm}\r\n                                     addNewPost={this.addNewPost}\r\n                        />\r\n                        :\r\n                        null\r\n                }\r\n\r\n                {\r\n                    this.state.showEditForm ?\r\n                        <EditPostForm\r\n                            handleHideEditForm={this.handleHideEditForm}\r\n                            selectedPost={this.state.selectedPost}\r\n                            editBlogPost={this.editBlogPost}\r\n                        />\r\n                        :\r\n                        null\r\n                }\r\n\r\n                <div className=\"addNewPost\">\r\n                    <div>\r\n                        <button className=\"blackBtn\">Войти</button>\r\n                    </div>\r\n                    <div>\r\n                        <input/>\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"blackBtn\" onClick={this.handleShowAddForm}>Создать пост</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"posts\">\r\n                    {blogPosts}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}