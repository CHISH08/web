{"ast":null,"code":"var _jsxFileName = \"D:\\\\practice\\\\project4\\\\src\\\\components\\\\Main\\\\components\\\\EditPostForm.js\";\nimport './EditPostForm.css';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class EditPostForm extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      postTitle: this.props.selectedPost.title,\n      postTag: this.props.selectedPost.tag,\n      postBody: this.props.selectedPost.body,\n      postName: this.props.selectedPost.name,\n      postPassword: this.props.selectedPost.password\n    };\n\n    this.handlePostTitleChange = e => {\n      this.setState({\n        postTitle: e.target.value\n      });\n    };\n\n    this.handlePostTagChange = e => {\n      this.setState({\n        postTag: e.target.value\n      });\n    };\n\n    this.handlePostBodyChange = e => {\n      this.setState({\n        postBody: e.target.value\n      });\n    };\n\n    this.savePost = e => {\n      const post = {\n        id: this.props.selectedPost.id,\n        title: this.state.postTitle,\n        tag: this.state.postTag,\n        body: this.state.postBody,\n        name: this.props.selectedPost.name,\n        password: this.props.selectedPost.password,\n        liked: this.props.selectedPost.liked,\n        likeArray: this.props.selectedPost.likeArray,\n        likeCounter: this.props.selectedPost.likeCounter\n      };\n      this.props.editBlogPost(post);\n      this.props.handleHideEditForm();\n    };\n\n    this.handleEnter = e => {\n      if (e.key === 'Enter' && this.state.postTitle !== '' && this.state.postTag !== '' && this.state.postBody !== '' && this.props.currentName === this.state.postName && this.props.currentPassword === this.state.postPassword) {\n        this.savePost();\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.savePost();\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleEnter);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleEnter);\n  }\n\n  render() {\n    const handleHideEditForm = this.props.handleHideEditForm;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        className: \"editPostForm\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleHideEditForm,\n          className: \"hideBtn\",\n          children: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 78\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"editPostInput\",\n            type: \"text\",\n            name: \"postTitle\",\n            placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n            value: this.state.postTitle,\n            onChange: this.handlePostTitleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"editPostInput\",\n            type: \"text\",\n            name: \"postTags\",\n            placeholder: \"\\u0422\\u0435\\u0433\\u0438\",\n            value: this.state.postTag,\n            onChange: this.handlePostTagChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"editPostInput\",\n            name: \"postBody\",\n            placeholder: \"\\u041F\\u043E\\u0441\\u0442\",\n            value: this.state.postBody,\n            onChange: this.handlePostBodyChange,\n            rows: 8,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), this.props.currentName === this.state.postName && this.props.currentPassword === this.state.postPassword ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"blackBtn\",\n          type: \"submit\",\n          children: \"  \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" \\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u043F\\u0440\\u0430\\u0432 \\u043D\\u0430 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u044D\\u0442\\u043E\\u0433\\u043E \\u043F\\u043E\\u0441\\u0442\\u0430 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handleHideEditForm,\n        className: \"overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"names":["CancelIcon","Component","EditPostForm","state","postTitle","props","selectedPost","title","postTag","tag","postBody","body","postName","name","postPassword","password","handlePostTitleChange","e","setState","target","value","handlePostTagChange","handlePostBodyChange","savePost","post","id","liked","likeArray","likeCounter","editBlogPost","handleHideEditForm","handleEnter","key","currentName","currentPassword","handleSubmit","preventDefault","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render"],"sources":["D:/practice/project4/src/components/Main/components/EditPostForm.js"],"sourcesContent":["import './EditPostForm.css'\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport {Component} from \"react\";\r\n\r\nexport class EditPostForm extends Component {\r\n\r\n    state = {\r\n        postTitle: this.props.selectedPost.title,\r\n        postTag: this.props.selectedPost.tag,\r\n        postBody: this.props.selectedPost.body,\r\n        postName: this.props.selectedPost.name,\r\n        postPassword: this.props.selectedPost.password,\r\n    }\r\n\r\n    handlePostTitleChange = (e) => {\r\n        this.setState({\r\n            postTitle: e.target.value\r\n        })\r\n    }\r\n\r\n    handlePostTagChange = (e) => {\r\n        this.setState({\r\n            postTag: e.target.value\r\n        })\r\n    }\r\n\r\n    handlePostBodyChange = (e) => {\r\n        this.setState({\r\n            postBody: e.target.value\r\n        })\r\n    }\r\n\r\n    savePost = (e) => {\r\n        const post = {\r\n            id: this.props.selectedPost.id,\r\n            title: this.state.postTitle,\r\n            tag: this.state.postTag,\r\n            body: this.state.postBody,\r\n            name: this.props.selectedPost.name,\r\n            password: this.props.selectedPost.password,\r\n            liked: this.props.selectedPost.liked,\r\n            likeArray: this.props.selectedPost.likeArray,\r\n            likeCounter: this.props.selectedPost.likeCounter\r\n        }\r\n\r\n        this.props.editBlogPost(post)\r\n        this.props.handleHideEditForm()\r\n    }\r\n\r\n    handleEnter = (e) => {\r\n        if (e.key === 'Enter'\r\n            && this.state.postTitle !== ''\r\n            && this.state.postTag !== ''\r\n            && this.state.postBody !== ''\r\n            && this.props.currentName === this.state.postName\r\n            && this.props.currentPassword === this.state.postPassword) {\r\n            this.savePost()\r\n        }\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        this.savePost()\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keyup', this.handleEnter)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keyup', this.handleEnter)\r\n    }\r\n\r\n    render() {\r\n        const handleHideEditForm = this.props.handleHideEditForm\r\n        return (\r\n            <>\r\n                <form action=\"\" className=\"editPostForm\" onSubmit={this.handleSubmit}>\r\n                    <button onClick={handleHideEditForm} className=\"hideBtn\"><CancelIcon/></button>\r\n                    <h2>Редактировать</h2>\r\n                    <div>\r\n                        <input className=\"editPostInput\"\r\n                               type=\"text\" name=\"postTitle\"\r\n                               placeholder=\"Название\"\r\n                               value={this.state.postTitle}\r\n                               onChange={this.handlePostTitleChange}\r\n                               required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <input className=\"editPostInput\"\r\n                               type=\"text\"\r\n                               name=\"postTags\"\r\n                               placeholder=\"Теги\"\r\n                               value={this.state.postTag}\r\n                               onChange={this.handlePostTagChange}\r\n                               required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <textarea className=\"editPostInput\"\r\n                                  name=\"postBody\"\r\n                                  placeholder=\"Пост\"\r\n                                  value={this.state.postBody}\r\n                                  onChange={this.handlePostBodyChange}\r\n                                  rows={8}\r\n                                  required\r\n                        />\r\n                    </div>\r\n                    {\r\n                        (this.props.currentName === this.state.postName) &&\r\n                        (this.props.currentPassword === this.state.postPassword)?\r\n                            <button\r\n                                className=\"blackBtn\"\r\n                                type=\"submit\">  Сохранить\r\n                            </button>\r\n                            :\r\n                            <p> У вас нет прав на редактирование этого поста </p>\r\n                    }\r\n\r\n                </form>\r\n                <div onClick={handleHideEditForm} className=\"overlay\"></div>\r\n            </>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}